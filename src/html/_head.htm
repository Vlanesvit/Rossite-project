<head>
	<title>@@title</title>

	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="format-detection" content="telephone=no">
	<meta name="viewport" content="width=, initial-scale=1.0">
	<link rel="shortcut icon" href="@favicon.ico" type="image/x-icon">

	<link href="https://cdn.jsdelivr.net/npm/image-compare-viewer@1.6.2/dist/image-compare-viewer.min.css" />
	<link href="https://cdn.jsdelivr.net/npm/nouislider@15.7.1/dist/nouislider.min.css" />

	<link rel="stylesheet" href="css/style.min.css">

	<script src="https://api-maps.yandex.ru/2.1?apikey=38863ba5-9462-46dc-940c-d9fed985abff&lang=ru_RU"
		type="text/javascript"></script>
	<script>
		ymaps.ready(init);
		function init() {
			if (document.getElementById('map')) {
				let map = new ymaps.Map('map', {
					controls: [],
					// Координаты центра карты
					center: branchData[0].location,
					// Уровень масштабирования
					zoom: 5,
				}, {
					suppressMapOpenBlock: true,
					balloonMaxWidth: 200,
					searchControlProvider: 'yandex#search'
				});

				let pinsCollection = new ymaps.GeoObjectCollection({}, {
					preset: 'islands#blueDotIcon', // дефолт метка
					draggable: false, // метки нельзя перемещать
					// iconLayout: 'default#imageWithContent', // указать данный тип макета.
					// iconImageHref: 'img/footer/map-pin.png', // cвоё изображение иконки метки.
					// iconImageSize: [36, 52], // размеры метки
					// iconImageOffset: [-18, -26], // смещение левого верхнего угла иконки
					// iconContentOffset: [0, 0], // cмещение слоя с содержимым относительно слоя с картинкой
				});

				for (let i = 0; i < branchData.length; i++) {
					let marks = new ymaps.Placemark(branchData[i].location, {
						// Зададим содержимое заголовка балуна.
						balloonContentHeader:
							`${branchData[i].address}`
						,

						// Зададим содержимое всплывающей подсказки.
						hintContent: `${branchData[i].address}`,
					},)
					pinsCollection.add(marks);
				}

				// Добавим метки на карту.
				map.geoObjects.add(pinsCollection);

				// Скрываем хинт при открытии балуна.
				map.events.add('balloonopen', function (e) {
					Map.hint.close();
				});

				// Закрываем балун по клику по карте
				map.events.add('click', e => e.get('target').balloon.close());
			}
		}
	</script>

</head>	